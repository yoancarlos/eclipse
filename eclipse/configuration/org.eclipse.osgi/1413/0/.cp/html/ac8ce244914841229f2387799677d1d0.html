<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>

<link rel="stylesheet" type="text/css" href="css/documentation.css?x=6157146422480421"/>
<title>Signing the Message Content with PKCS7/CMS Signature</title>
</head>
<body id="loioac8ce244914841229f2387799677d1d0">
<div id="wrapper"><div id="container">
<h1 class="title topictitle1">Signing the Message Content with PKCS7/CMS Signature</h1>
<div class="body taskbody"><p class="shortdesc"/>
<div class="section context"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Context</h2></div><p class="p">You work with PKCS7/CMS signer to make your identity known to the participants
				and thus ensure authenticity of the messages you are sending on cloud. This task
				guarantees your identity by signing the messages with one or more private keys using
				a signature algorithm. </p>
<div class="sectiondiv"><strong class="ph b">Working of PKCS7/CMS
				Signer</strong></div><p class="p">In the integration flow model, you configure the PKCS7/CMS
				signer by providing one or more private key alias. The signer uses the alias name to
				get the private keys of type DSA or RSA from the keystore. You also specify the
				signature algorithm for each key types, which is a combination of digest and
				encryption algorithm. For example, SHA512/RSA or SHA/DSA. The PKCS7/CMS signer uses
				the algorithm to generate corresponding signatures. The data generated by the signer
				is known as the Signed Data. </p>
<div class="p">You can choose to include the original content,
				which should be signed, in the Signed Data. This Signed Data is written into the
				message body. Otherwise, you can choose to include the Signed Data to the
					<kbd class="ph userinput">SapCmsSignedData</kbd> header and only keep the original
				content in the message body. You can further Base64 encode the Signed Data, which is
				either in the message body or message header, to further protect it during message
					exchange.<div class="note note"><span class="notetitle">Note</span> When you Base64 encode the Signed Data, it implies you encode
					either the message header or body depending on where the Signed Data is placed.
					While verifying the message, make sure you specify which part of the message,
					either header or body, was Base64 encoded.</div>
</div>
</div><div class="tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps" id="loioac8ce244914841229f2387799677d1d0__steps_v32_xqp_vk"><li class="li step stepexpand"><span class="ph cmd">Open the &lt;integration flow&gt;.iflw in the <span class="keyword uilabel">Model
						Configuration</span> editor. </span></li>
<li class="li step stepexpand"><span class="ph cmd">Right-click on a connection within the pool and choose<span class="ph menucascade"><img src="images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">Add Security Element</span> <img src="images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">Message Signer</span> <img src="images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>.</span></li>
<li class="li step stepexpand"><span class="ph cmd"> In the <span class="keyword uilabel">Model Configuration</span> editor, select
						<span class="keyword uilabel">Signer</span> element.</span></li>
<li class="li step stepexpand"><span class="ph cmd">To configure the signer with a saved configuration that is available as a
					template, choose <span class="ph uicontrol">Load Element Template</span> from the context
					menu of the <span class="keyword uilabel">Signer</span> element.</span></li>
<li class="li step stepexpand"><span class="ph cmd">In the <span class="keyword uilabel">Properties</span> view, enter the details to sign the
					incoming message with one or more signatures.</span></li>
<li class="li step stepexpand"><span class="ph cmd">Save the changes.</span></li>
<li class="li step stepexpand"><span class="ph cmd">To save the configurations of the signer as a template, choose <span class="keyword uilabel">Save as
						Template</span> from the context menu of the <span class="keyword uilabel">Signer</span>
					element.</span> 
					<div class="note note"><span class="notetitle">Note</span> When you save the configuration of the <span class="keyword uilabel">Signer</span> element
						as a template, the tool stores the template in the workspace as
						&lt;ElementTemplate&gt;.fst. </div>

				</li>
</ol>
</div>
</div></div>
</body>
</html>